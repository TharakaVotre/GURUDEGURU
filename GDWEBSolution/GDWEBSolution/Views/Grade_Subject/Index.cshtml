@model IEnumerable<GDWEBSolution.Models.Configuration.Grade_SubjectModel>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@if (ViewBag.Message)
{
    <div class="alert alert-dismissable alert-warning">
      <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                Fill All Field 
    </div>

 }
 





        @using (Html.BeginForm("Create", "Grade_Subject", FormMethod.Post))
{
            <div class="form-horizontal">
                <div class="modal-header">
                    <h4 class="modal-title">Add New Grade Subject</h4>
                </div>

                <div class="panel panel-default">
                    <div class="panel-heading">

                        <div class="form-group">
                            <div class="row">
                                <label class="col-sm-2 control-label" style="font-size:14px;color:black">Academic Year</label>
                                <div class="col-sm-2">
                                    @Html.TextBox("AcademicYear", (string)ViewBag.AcademicYear, new {@class="form-control",@type="number"})
                                   

                                </div>
                                <label class="col-sm-2 control-label" style="font-size:14px;color:black">Grade</label>
                                <div class="col-sm-2">

                                    @Html.DropDownList("GradeId", String.Empty)

                                </div>
                            </div>
                        </div>
                        <a href="~/Grade_Subject/Detail" class="btn btn-warning"><span class="glyphicon glyphicon-step-backward"></span>Go Back</a>

                    </div>
                    <div class="panel-body">
                        <table id="zctb" class="display table table-bordered table-hover">
                            <thead>
                                <tr>
                                    <th class="col-md-1">
                                        Select
                                    </th>
                                    <th class="col-md-4">
                                        @Html.DisplayNameFor(model => model.SubjectName)
                                    </th>
                                    <th class="col-md-2">
                                        @Html.DisplayNameFor(model => model.ShortName)
                                    </th>
                                    <th class="col-md-5">
                                        Property Selection
                                    </th>

                                </tr>
                            </thead>
                            <tbody>
                                @if (Model != null)
                    {
                        int i=0;
                        foreach (var item in Model)
                        {
                            i++;
                            string j = "op" + i;
                            <tr>
                                <td>
                                    <input type="checkbox" name="selectedNames" value="@item.SubjectId" onclick="Enable(@i)" /> <!-- HOW SHOULD THIS BE RENDERED? -->
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.SubjectName)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.ShortName)
                                </td>

                                <td>
                                    <div id="@i" style="display:none" class="row">
                                        <div class="col-md-5">
                                            @Html.DropDownList("Optional", "--Select--")
                                        </div>
                                        <div class="col-md-7">
                                            @Html.DropDownList("SubjectCategoryId", "--Select Subject Category--")
                                        </div>

                                    </div>
                                </td>



                            </tr>
                        }
                    }
                            </tbody>
                        </table>
                    </div>
                </div>
                <button type="submit" value="Create" class="btn btn-primary" >Save</button>
            </div>



}
        <style>
            #SubjectCategoryId {
                border: 1px solid #e0e0e0;
                padding: 5px 8px;
                color: #616161;
                background: #fff;
                box-shadow: none !important;
                display: block;
                width: 100%;
                height: 32px;
                font-size: 14px;
                line-height: 1.45;
                border-radius: 2px;
                transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
            }

            #Optional {
                border: 1px solid #e0e0e0;
                padding: 5px 8px;
                color: #616161;
                background: #fff;
                box-shadow: none !important;
                display: block;
                width: 80%;
                height: 32px;
                font-size: 14px;
                line-height: 1.45;
                border-radius: 2px;
                transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
            }

            #GradeId {
                border: 1px solid #e0e0e0;
                padding: 5px 8px;
                color: #616161;
                background: #fff;
                box-shadow: none !important;
                display: block;
                width: 100%;
                height: 32px;
                font-size: 14px;
                line-height: 1.45;
                border-radius: 2px;
                transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
            }

            #AcademicYear {
                border: 1px solid #e0e0e0;
                padding: 5px 8px;
                color: #616161;
                background: #fff;
                box-shadow: none !important;
                display: block;
                width: 100%;
                height: 32px;
                font-size: 14px;
                line-height: 1.45;
                border-radius: 2px;
                transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
            }
        </style>

        <script>

            function Enable(i){
                var id= document.getElementById(i).style.display;

                if(id=="none"){

                    document.getElementById(i).style.display="block";
                    //document.getElementById(String(div1)).style.display="block";
                }
                else{

                    var div =" #"+ i;
                    var div1 =" #op"+ i;
                    $(String(div)).load(document.URL + String(div));
                    $(String(div1)).load(document.URL + String(div1));

                }

            }



        </script>
